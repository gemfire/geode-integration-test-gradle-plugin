group 'org.apache.geode'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: GeodeIntegration

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    maven { url 'https://repository.apache.org/content/repositories/snapshots' }
    maven { url 'https://repository.apache.org/content/repositories/releases' }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile 'org.apache.geode:geode-junit:1.3.0-SNAPSHOT'

}


//File geodeDistZip = configurations.compile.find {
//    it.path.contains('org.apache.geode/apache-geode')
//}
//
//task installGeode(type: Copy) {
//    def zipFile = geodeDistZip
//    File outputDir = file("${buildDir}/unpacked/dist")
//
//    from zipTree(zipFile)
//    into outputDir
//}
//
//
//test.dependsOn installGeode
//
//test {
//    environment("GEODE_HOME","${buildDir}/unpacked/dist/${geodeDistZip.name.replace(".zip", "")}")
//}